### 开球网接口标准文档 — 积分

#### 基础信息
- Base URL：`https://kaiqiuwang.cc/xcx/public/index.php/api`
- 认证：无
- 请求：`Accept: application/json`；POST 使用表单
- 通用响应包裹：`{ code, msg, time, data }`
- 分页结构：`{ total, per_page, current_page, last_page, data: [] }`

---

### 按积分降序获取选手名单
- 方法与路径：POST `/user/lists`
- 请求参数（Form-Data）：
  - `city` string 可选：城市名（示例：`杭州市`）
  - `now` string 可选：当前城市（抓包重复为城市名，可留空或同 city）
  - `sort` number 可选：排序（示例：`2` 表示积分降序）
  - `page` number 可选：页码（默认 1）
  - `index` number 可选：未知用途（抓包示例为 `0`）
- 响应体（示例节选）：

```json
{
  "code": 1,
  "msg": "",
  "time": "1754736506",
  "data": {
    "total": 635966,
    "per_page": 10,
    "current_page": 1,
    "last_page": 63597,
    "data": [
      { "realname": "樊振东", "score": "2924", "uid": "15865" }
    ]
  }
}
```

---

### 获取热门查询用户列表
- 方法与路径：POST `/user/hotlists`
- 请求参数：无
- 响应体：`{ code, msg, time, data: [] }`

---

### 查询用户基础信息（关键词搜索）
- 方法与路径：GET `/user/lists`
- 请求参数（Query）：
  - `page` number 可选：页码（默认 1）
  - `key` string 必填：搜索关键词（示例：人名）
- 响应体（分页示例）：同上 `/user/lists` 分页结构

#### 字段清单 — `/user/lists` 列表项（score 排序模式）
- `username2` string：昵称/用户名
- `realname` string：真实姓名
- `sex` string：性别（1 男，2 女）
- `birthyear` string：出生年（字符串，可能为`0`）
- `score` string：当前积分
- `maxscore` string：历史最高积分
- `minscore` string：历史最低积分
- `maxScoreTheYear` string：本年度最高积分
- `uid` string：用户ID
- `resideprovince` string：所在省份/地区
- `residecity` string：所在城市
- `th` array|null：表头/列名提示

---

### 查询用户高级信息
- 方法与路径：GET `/User/adv_profile`
- 请求参数（Query）：
  - `uid` string 必填：用户 ID
- 响应体（示例节选）：

```json
{
  "code": 1,
  "msg": "获得用户高级信息",
  "time": "1754739060",
  "data": {
    "uid": "404523",
    "username": "郭永帅",
    "score": "1834",
    "win": "584",
    "lose": "263",
    "total": "847",
    "rank": "15781",
    "honors": [ { "honor": "https://kaiqiuwang.cc/home/image/icon/gold_medal16.png", "subject": "标题" } ]
  }
}
```

#### 字段清单 — `/User/adv_profile` data
- 基本信息：`uid`、`username`、`province`、`city`、`sex`、`bg`（背景/身份，如业余选手）
- 排行与胜负：`score`、`maxscore`、`rank`、`win`、`lose`、`total`、`rate`
- 赛程与对手：
  - `Top3ManOfBeat` string：击败的男选手前三UID列表，逗号分隔并以逗号结尾
  - `Top3ManOfBeatUsernameScore` array：如 `杨三超(2149)`
  - `Top3WomanOfBeat` string：击败的女选手前三UID列表
  - `Top3WomanOfBeatUsernameScore` array
  - `Top3OfBeat` string：击败对手前三UID列表
  - `TopPlayer` string：最强对手UID列表
  - `TopPlayerUsernameScore` array：如 `王麒凯(2618)`
  - `OftenPlayer` string：常对手（姓名(次数) 列表）
  - `maxConsWin` string：最大连胜
  - `maxConsWinLastGameId` string：连胜发生的最后一场比赛ID
  - `allCities` array：参与过比赛的城市
  - `dateline` string：注册/统计起始时间戳
  - `if_event_uid` string：是否赛事UID（0/1）
  - `goldNum` string：金牌数
  - `cityNum` string：参赛城市数
  - `path` string：路径（未用）
  - `pathNum` string：路径长度
  - `champion` string：冠军相关描述
  - `orgTimes` string：组织次数
  - `ly_event_times` string：近一年赛事次数
  - `ly_event_games` string：近一年比赛场次
  - `ly_event_rank` string：近一年排名
  - `ly_max_inc` string：近一年最大增分
  - `ly_max_dis` string：近一年最大输分
  - `ly_beatit` string：近一年击败的最高分对手
  - `ly_shopid` string：近一年赛事主要球馆ID
  - `sleep` string：休眠标记
  - `pathWords` string：路径字串
  - `fuxing` string：福星串
  - `kuzhu` string：克主串
  - `KuZhu` object：克主详细
    - `names` array
    - `uids` array
    - `gameids` array
    - `winlose` array
  - `FuXing` object：福星详细
    - 同上结构
  - `lastUpdate` string：数据最后更新时间（中文格式）
  - `realpic` string：头像URL
  - `realname` string：真实姓名
  - `qiupai`/`qiupaitype`/`fanshou`/`fanshoutype`/`zhengshou`/`zhengshoutype`：器材配置
  - `resideprovince` string：常驻省市（可能带城市）
  - `scope` string：范围（全国等）
  - `description` string：文案描述
  - `ifHonor` number：是否有荣誉（0/1）
  - `honors` array：荣誉列表
    - `uid`、`hid`、`eventid`、`itemid`、`honor`（奖牌图标URL）、`subject`（标题）、`posttime`
  - `games` object：近期比赛摘要
    - `data` array：`gameid`、`uid1`、`uid2`、`uid11`、`uid22`、`username1`、`username2`、`result1`、`result2`、`score1`、`score2`、`eventid`、`ascore1`、`dateline`、`groupid`、`flag`
  - `star` number：收藏标记（0/1）

---

### 查询用户比赛信息（积分走势）
- 方法与路径：GET `/User/getUserScores`
- 请求参数（Query）：
  - `uid` string 必填：用户 ID
- 响应体（示例节选）：`data` 为数组，含每场比赛后的 `postscore` 与时间 `dateline`

#### 字段清单 — `/User/getUserScores` 列表项
- `uid` string：用户ID
- `eventid` string：赛事ID
- `postscore` string：赛后积分
- `dateline` string：比赛日期（yyyyMMdd）
- `itemid` string：项目ID
- `title` string：赛事标题
- `province` string：省份
- `city` string：城市
- `location` string：地址

---

### 查询用户战绩
- 方法与路径：GET `/User/getGames`
- 请求参数（Query）：
  - `uid` string 必填：用户 ID
  - `page` number 可选：页码
- 响应体（示例节选）：`data.data[]` 为对局明细，含比分与赛程分组编号

#### 字段清单 — `/User/getGames` 列表项
- `gameid` string：对局ID
- `uid1` string：选手1 UID
- `uid2` string：选手2 UID
- `uid11` string：双打队友1 UID（单打为0）
- `uid22` string：双打队友2 UID（单打为0）
- `username1` string：选手1姓名
- `username2` string：选手2姓名
- `username11` string：队友1姓名
- `username22` string：队友2姓名
- `result1` string：选手1胜负（2/1/0）
- `result2` string：选手2胜负（2/1/0）
- `score1` string：积分变化（如 +4、-2、-）
- `score2` string：选手2积分变化
- `eventid` string：赛事ID
- `ascore1` string：赛前积分
- `dateline` string：比赛日期（yyyy-MM-dd）
- `groupid` string：分组编号
- `flag` string：标记

---

### 查询用户头像（静态资源）
- 方法：GET（静态文件直链）
- 规则：头像路径为 `https://oss.kaiqiu.cc/avatar/000/xx/xx/xx_avatar_big.jpg`，其中用户 ID 补齐到 8 位并按两位分组三段。


