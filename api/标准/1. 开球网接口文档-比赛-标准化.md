### 开球网接口标准文档 — 比赛

#### 基础信息
- 基础地址：`https://kaiqiuwang.cc/xcx/public/index.php/api`
- 认证：无
- 请求头：`Accept: application/json`；POST 使用 `application/x-www-form-urlencoded`
- 通用响应：`{ code: number, msg: string, time: string, data: any }`
- 分页结构：`{ total, per_page, current_page, last_page, data: [] }`

> 清洗：移除抓包中无效/与后端无关的参数，如 `currHandle`、`itemid=undefined`。

---

### 获取比赛列表
- 方法与路径：POST `/match/lists`
- 请求参数（Form-Data）：
  - `lat` string 必填：纬度（示例：`30.20840072631836`）
  - `lng` string 必填：经度（示例：`120.2120132446289`）
  - `city` string 可选：城市名（示例：`杭州市`）
  - `sort` number 可选：排序方式（示例：`2`）
  - `page` number 可选：页码（默认 1）
- 响应体（示例节选）：

```json
{
  "code": 1,
  "msg": "",
  "time": "1754737563",
  "data": {
    "data": [
      {
        "eventid": "105903",
        "grade": "3",
        "title": "赛事标题",
        "poster": "https://oss.kaiqiu.cc/xcx/public/uploads/image/1700805919.png",
        "shopid": "9222",
        "starttime": "2025-08-23 08:30",
        "deadline": "2025-08-15 23:30",
        "membernum": "393",
        "lng": "116.608392",
        "lat": "40.000916",
        "status": "报名中",
        "arena_name": "北京金盏国际体育小镇"
      }
    ],
    "showNotice": 0,
    "info": 0
  }
}
```

#### 字段清单 — 响应 data
- `data.data[]` 列表项字段：
  - `eventid` string：赛事ID
  - `grade` string：赛事等级
  - `note` string：备注/说明
  - `ifend` string：是否结束（0 未结束，1 已结束，2 结束且已计算等）
  - `wanghong` string：网红赛事标记（0/1）
  - `prize` string：是否有奖金（0/1）
  - `young` string：青少年赛事标记（0/1）
  - `observer` string：观赛标记（0/1）
  - `champion` string：冠军展示标记（0/1）
  - `ifScoreCal` string：是否计算积分（0/1）
  - `province` string：省份
  - `city` string：城市
  - `title` string：赛事标题
  - `poster` string：海报URL
  - `shopid` string：举办球馆ID
  - `starttime` string：开始时间（yyyy-MM-dd HH:mm）
  - `startenrolltime` string：报名开始时间（时间戳或yyyy-MM-dd HH:mm，抓包为时间戳字符串）
  - `deadline` string：报名截止时间（yyyy-MM-dd HH:mm）
  - `membernum` string：报名人数
  - `viewnum` string：浏览量
  - `lng` string：经度
  - `lat` string：纬度
  - `juli` string：距离（数值字符串，单位公里）
  - `status` string：状态文案（如 报名中/已结束/报名已结束/积分已计算）
  - `distance` string：距离文案（如 5.9公里）
  - `arena_name` string：球馆名称
- 其他：
  - `data.showNotice` number：是否展示通知（0/1）
  - `data.info` number：保留字段（示例为 0）

---

### 获取比赛详情
- 方法与路径：GET `/enter/detail`
- 请求参数（Query）：
  - `id` string 必填：赛事 ID（示例：`116260`）
  - `lat` string 可选：纬度
  - `lng` string 可选：经度
- 响应体（示例节选）：

```json
{
  "code": 1,
  "msg": "",
  "time": "1754740431",
  "data": {
    "items": [
      {
        "id": "7034638",
        "name": "U1950 单打",
        "count": "18",
        "curr_count": "9",
        "cost": "150.00",
        "point_1": "1700",
        "point_2": "1950",
        "match_type": "单打",
        "condition": "1700分~1950分"
      }
    ],
    "detail": {
      "eventid": "116260",
      "title": "赛事标题",
      "province": "浙江",
      "city": "杭州",
      "location": "详细地址",
      "poster": "https://oss.kaiqiu.cc/xcx/public/uploads/image/1528197946.jpg",
      "deadline": "2025-08-19 21:00",
      "starttime": "2025-08-24 12:00",
      "membernum": "156",
      "shopid": "2546",
      "arena_name": "萧山体育馆"
    }
  }
}
```

#### 字段清单 — 响应 data.items[]（报名项目）
- `team_limit_type` string：组队限制类型
- `count` string：名额总数
- `curr_count` string：当前已报
- `sub_count` string：候补/子项数量
- `cost` string：报名费
- `point_1` string：积分下限
- `point_2` string：积分上限
- `id` string：项目ID
- `group` string：分组编号
- `age_1` string：年龄下限
- `age_2` string：年龄上限
- `jf_join` string：是否积分加入（0/1）
- `team_count_1` string：队伍人数（单打为0）
- `name` string：项目名称
- `sex` string：性别（0 全部/1 男/2 女）
- `cost2` string：备用费用
- `starttime1` string：开始时间1
- `starttime2` string：开始时间2
- `qualNum` string：资格人数
- `is_enter` number：是否已报名（0/1）
- `is_pay` number：是否已支付（0/1）
- `is_divided` number：是否已分组（0/1）
- `is_ready` string：准备状态
- `match_type` string：比赛类型（单打/团体等）
- `condition` string：报名条件（如“1500分以下”）
- `postfee` string：退费说明

#### 字段清单 — 响应 data.detail（赛事详情）
- `eventid` string：赛事ID
- `topicid` string
- `uid` string：组织者UID
- `username` string：组织者昵称
- `dateline` string：发布时间（时间戳）
- `title` string：赛事标题
- `classid` string：分类ID
- `province` string：省份
- `city` string：城市
- `location` string：详细地址
- `poster` string：海报URL
- `thumb` string：是否有缩略图（0/1）
- `blur` string：是否模糊图（0/1）
- `deadline` string：报名截止
- `starttime` string：开始时间
- `startenrolltime` string：报名开始时间（文本）
- `public` string：公开范围
- `membernum` string：报名人数
- `follownum` string：关注人数
- `viewnum` string：浏览量
- `grade` string：赛事等级
- `recommendtime` string
- `tagid` string：赛事标签
- `sport_type` string：运动类型
- `picnum` string：图片数量
- `threadnum` string：话题数量
- `updatetime` string：更新时间
- `hot` string：热门标记
- `gamenum` string：对局数量
- `qnum` string
- `ifsetq` string
- `ifend` string：是否结束（0/1/2）
- `qgid` string
- `scoreid` string
- `ifScoreCal` string：是否计算积分（0/1）
- `showName` string：展示姓名策略（如 realname）
- `shopid` string：球馆ID
- `teammembernum` string：团队人数
- `upload` string
- `scorefrom` string
- `scoreto` string
- `scorelimit` string
- `temperature` string
- `groupnum` string：小组数
- `allow0join` string：是否允许0分加入（0/1）
- `prepayId` string
- `transactionId` string
- `paid` string：支付标记
- `paymentType` string：支付类型
- `fee` string：费用
- `fee2option` string
- `fee2` string
- `items` string：项目配置（有时为空字符串）
- `jf_type` string：积分类型
- `is_multi` string：是否多选项（0/1）
- `is_card` string：是否需要证件（0/1）
- `is_clothing_size` string：是否收集服装尺码（0/1）
- `is_other` string：是否有其他项（0/1）
- `other_remarks` string：其他备注
- `mobile` string：联系人手机
- `weixin` string：联系人微信
- `xian_status` string
- `contact` string：联系人姓名
- `endtime` string：结束时间
- `note` string：备注
- `open_id` string：组织者OpenID
- `expired` string：是否过期（0/1）
- `upload_options` string
- `wanghong` string：网红标记（0/1）
- `young` string：青少年标记（0/1）
- `prize` string：奖金标记（0/1）
- `champion` string：冠军标记（0/1）
- `observer` string：观赛标记（0/1）
- `verify` string：审核标记
- `detail` string：图文详情（HTML已URL编码）
- `lat` number：纬度
- `lng` number：经度
- `arena_name` string：球馆名称
- `ifLogin` number：是否登录标记
- `contact_caption` string：联系按钮文案
- `distance` string：距离文案
- `user_realPic` string：组织者头像URL
- `train` number
- `day` number：天数差
- `starttime0` string：开始时间（时分）
- `feeIndex` number
- `payfIndex` number
- `ifManage` number：是否可管理（0/1）
- `is_follow` number：是否关注（0/1）
- `selectedItem` object：当前选中的项目（同 `data.items[]` 字段）
- `itemIndex` number：选中项目序号
- `login` number：登录标记（0/1）

#### 字段清单 — 响应 data 其他字段
- `ifTT` object：项目ID到标记的映射，如 `{ "7034638": 0 }`
- `myuid` string：当前用户UID


